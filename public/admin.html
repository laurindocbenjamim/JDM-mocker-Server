<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JDM Developer Console</title>
    <link rel="stylesheet" href="admin-style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Fira+Code:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="icon" type="image/png" href="/assets/favicon.png">
</head>

<body class="admin-mode">
    <div id="toast-container"></div>
    <div id="login-screen">
        <div class="admin-card login-form">
            <div class="brand" style="justify-content:center; margin-bottom:1.5rem;">
                <img src="/assets/logo.png" alt="JDM Mocker Logo"
                    style="width: 48px; height: 48px; object-fit: contain;">
                <span>JDM MOCKER</span>
            </div>
            <h1
                style="text-align:center; margin-bottom:1.5rem; color:var(--admin-primary); font-weight:800; font-size:1.1rem; opacity:0.8; letter-spacing:1px;">
                DEVELOPER
                ADMIN</h1>
            <div class="input-group">
                <label>Developer Email</label>
                <input type="email" id="dev-email" placeholder="example@example.com">
            </div>
            <div class="input-group">
                <label>Master Password</label>
                <input type="password" id="dev-password" placeholder="••••••••">
            </div>
            <button class="btn-remove"
                style="width:100%; height:40px; border-color:var(--admin-primary); color:white; background:var(--admin-primary);"
                onclick="handleDevLogin()">Access Console</button>
        </div>
    </div>

    <div id="bulk-actions-bar">
        <span id="selection-count">0 users selected</span>
        <button class="bulk-btn danger" onclick="deleteSelectedUsers()">Delete Selected</button>
        <button class="bulk-btn" onclick="clearSelection()">Cancel</button>
    </div>

    <div id="admin-dashboard" class="hidden" style="max-width: 1200px; margin: 0 auto;">
        <header style="display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem;">
            <div>
                <div class="brand" style="margin-bottom:0.25rem;">
                    <img src="/assets/logo.png" alt="JDM Mocker Logo"
                        style="width: 28px; height: 28px; object-fit: contain;">
                    <span>JDM MOCKER</span>
                </div>
                <p style="color:var(--admin-muted); font-size:0.85rem">Platform Overview & Global Resources</p>
            </div>
            <div style="display:flex; gap:1rem; align-items:center;">
                <a href="/crud-example" class="btn-remove"
                    style="border-color:var(--admin-primary); color:var(--admin-primary); text-decoration:none; display:inline-block; line-height:1.5;">Open
                    Client CRUD</a>
                <button class="btn-remove" style="border-color:var(--admin-primary); color:var(--admin-primary);"
                    onclick="showLogs()">Logs</button>
                <button class="btn-remove" style="border-color:var(--admin-muted); color:var(--admin-muted);"
                    onclick="logout()">Logout</button>
            </div>
        </header>

        <div id="logs-view" class="hidden">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:1.5rem;">
                <div style="display:flex; align-items:center; gap:1rem;">
                    <h2 style="font-size:1.25rem; font-weight:800; color:var(--admin-primary);">Activity Logs</h2>
                    <button id="btn-delete-logs" class="bulk-btn danger hidden" onclick="deleteSelectedLogs()"
                        style="position:static; padding: 4px 12px; font-size: 0.75rem;">Delete Selected</button>
                </div>
                <button class="btn-remove" style="border-color:var(--admin-muted); color:var(--admin-muted);"
                    onclick="hideLogs()">Back to Dashboard</button>
            </div>
            <div class="admin-card" style="padding:0; min-height:400px; max-height:70vh; overflow-y:auto;">
                <div class="table-container">
                    <table id="logs-table">
                        <thead>
                            <tr>
                                <th style="width: 40px;">
                                    <input type="checkbox" id="select-all-logs"
                                        onclick="toggleSelectAllLogs(this.checked)">
                                </th>
                                <th class="sortable" onclick="handleLogSort('level')">Level</th>
                                <th class="sortable" onclick="handleLogSort('method')">Method</th>
                                <th>Message</th>
                                <th class="sortable" onclick="handleLogSort('timestamp')">Time</th>
                            </tr>
                        </thead>
                        <tbody id="logs-tbody">
                            <tr>
                                <td colspan="5" style="text-align:center; padding:2rem; color:var(--admin-muted)">
                                    Loading
                                    logs...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="dashboard-content">
            <div class="summary-grid">
                <div class="admin-card" style="padding:1.5rem; text-align:center;">
                    <div style="font-size:0.85rem; color:var(--admin-muted); margin-bottom:0.5rem;">Total Users</div>
                    <div id="stat-users" style="font-size:1.75rem; font-weight:800; color:var(--admin-primary)">0</div>
                </div>
                <div class="admin-card" style="padding:1.5rem; text-align:center;">
                    <div style="font-size:0.85rem; color:var(--admin-muted); margin-bottom:0.5rem;">Total Containers
                    </div>
                    <div id="stat-containers" style="font-size:1.75rem; font-weight:800; color:var(--admin-primary)">0
                    </div>
                </div>
                <div class="admin-card" style="padding:1.5rem; text-align:center;">
                    <div style="font-size:0.85rem; color:var(--admin-muted); margin-bottom:0.5rem;">Total Tables</div>
                    <div id="stat-tables" style="font-size:1.75rem; font-weight:800; color:var(--admin-primary)">0</div>
                </div>
                <div class="admin-card" style="padding:1.5rem; text-align:center;">
                    <div style="font-size:0.85rem; color:var(--admin-muted); margin-bottom:0.5rem;">Total Columns</div>
                    <div id="stat-columns" style="font-size:1.75rem; font-weight:800; color:var(--admin-primary)">0
                    </div>
                </div>
            </div>

            <div class="admin-card" style="padding:0; overflow:hidden;">
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th style="width: 40px;">
                                    <input type="checkbox" id="select-all" class="selection-checkbox"
                                        onclick="toggleSelectAll(this.checked)">
                                </th>
                                <th>Developer/User</th>
                                <th>Containers</th>
                                <th>Total Tables</th>
                                <th class="sortable" onclick="handleSort('createdAt')">
                                    Created At <span id="sort-icon-createdAt" class="sort-icon"></span>
                                </th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="stats-tbody"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div id="toast-container"></div>
    <script src="admin-app.js"></script>
</body>

</html>